<!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>NatureEmoi</title>
     <link rel="icon" href="Home/icone2.ico">
     <link href="Espace_Client.css" rel="stylesheet">
 </head>
 <body>
     <h1>Formulaire d'inscription</h1>
 
     <form id="client">
         <label for="username">Nom d'utilisateur :</label>
         <input type="text" id="username" name="username" required><br><br>
 
         <label for="email">Email :</label>
         <input type="email" id="email" name="email" required><br><br>
 
         <label for="adresse">Adresse :</label>
         <input type="text" id="adresse" name="adresse" required><br><br>
 
         <label for="num_tel">Numéro de téléphone :</label>
         <input type="tel" id="num_tel" name="num_tel" required><br><br>
 
         <button type="submit">Soumettre</button>
     </form>
     <script > 
     const apiUrl = 'http://localhost:3000';
     document.getElementById("client").addEventListener('submit', async (e) => {
         e.preventDefault();
                 const username = document.getElementById('username').value;
                 const email = document.getElementById('email').value;
                 const adresse = document.getElementById('adresse').value;
                 const num_tel = document.getElementById('num_tel').value;
         try {
             const response = await fetch(`${apiUrl}/clients`, {
                 method: 'POST',
                 headers: {
                     'Content-Type': 'application/json',
                 },
                 body: JSON.stringify({ username, email , adresse , num_tel }),
             });
             if (response.ok) {
                 alert('client  ajouté avec succès');
             } else {
                 const errorData = await response.json();
                 alert("erreur :" + errorData.error);
             }
         } catch (error) {
             console.error('Erreur :', error);
             alert("impossible de se connecter au serveur !")
         }
     });
     </script>
 </body>
 
 </html>